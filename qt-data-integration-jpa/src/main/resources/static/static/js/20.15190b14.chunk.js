"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[20],{8125:function(e,t,n){n.d(t,{S:function(){return l},l:function(){return a}});var a={URL:"http://qtvmmdqbill01.qterminals.local:8484/data-integration"};function l(e,t){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(n),l=document.createElement("a");l.href=a,l.setAttribute("download","".concat(t)),document.body.appendChild(l),l.click()}},2020:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var a=n(885),l=n(2791),r=n(7890),o=n(919),i=n(255),s=n(2778),u=n(5854),c=n(2062),p=n(9411);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(s){i=!0,l=s}finally{try{o||null==n.return||n.return()}finally{if(i)throw l}}return r}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=l.memo(l.forwardRef((function(e,t){var n=e.message,a=n.severity,r=n.content,o=n.summary,i=n.detail,s=n.closable,f=n.life,m=n.sticky,d=v((0,c.KS)((function(){y(null)}),f||3e3,!m),1)[0],y=function(t){d(),e.onClose&&e.onClose(e.message),t&&(t.preventDefault(),t.stopPropagation())},h=(0,u.AK)("p-message p-component p-message-"+a),b=!1!==s?l.createElement("button",{type:"button",className:"p-message-close p-link",onClick:y},l.createElement("i",{className:"p-message-close-icon pi pi-times"}),l.createElement(p.H,null)):null,g=function(){if(e.message){var t=(0,u.AK)("p-message-icon pi ",{"pi-info-circle":"info"===a,"pi-check":"success"===a,"pi-exclamation-triangle":"warn"===a,"pi-times-circle":"error"===a});return r||l.createElement(l.Fragment,null,l.createElement("span",{className:t}),l.createElement("span",{className:"p-message-summary"},o),l.createElement("span",{className:"p-message-detail"},i))}return null}();return l.createElement("div",{ref:t,className:h,onClick:function(){e.onClick&&e.onClick(e.message)}},l.createElement("div",{className:"p-message-wrapper"},g,b))})));h.displayName="UIMessage";var b=0,g=l.memo(l.forwardRef((function(e,t){var n=v(l.useState([]),2),a=n[0],r=n[1],o=function(e){if(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n].id=b++,t=[].concat(y(a),y(e));else e.id=b++,t=a?[].concat(y(a),[e]):[e];r(t)}},c=function(){r([])},p=function(e){r(e)},m=function(t){r(a.filter((function(e){return e.id!==t.id}))),e.onRemove&&e.onRemove(t)};l.useImperativeHandle(t,(function(){return{show:o,replace:p,clear:c}}));var d=u.gb.findDiffKeys(e,g.defaultProps);return l.createElement("div",f({id:e.id,className:e.className,style:e.style},d),l.createElement(i.Z,null,a.map((function(t){var n=l.createRef();return l.createElement(s.K,{nodeRef:n,key:t.id,classNames:"p-message",unmountOnExit:!0,timeout:{enter:300,exit:300},options:e.transitionOptions},l.createElement(h,{ref:n,message:t,onClick:e.onClick,onClose:m}))}))))})));g.displayName="Messages",g.defaultProps={__TYPE:"Messages",id:null,className:null,style:null,transitionOptions:null,onRemove:null,onClick:null};var E=n(7564);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(this,arguments)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(e,t){if(e){if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function N(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(s){i=!0,l=s}finally{try{o||null==n.return||n.return()}finally{if(i)throw l}}return r}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){throw new TypeError('"'+e+'" is read-only')}function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T=l.memo(l.forwardRef((function(e,t){var n=x(l.useState([]),2),a=n[0],i=n[1],s=x(l.useState(0),2),c=s[0],f=s[1],m=x(l.useState(!1),2),d=m[0],y=m[1],v=x(l.useState(!1),2),h=v[0],b=v[1],S=l.useRef(null),C=l.useRef(null),O=l.useRef(null),j=l.useRef(!1),R=l.useRef(0),B=u.gb.isNotEmpty(a),D=e.disabled||h,F=e.chooseLabel||e.chooseOptions.label||(0,r.qJ)("choose"),I=e.uploadLabel||e.uploadOptions.label||(0,r.qJ)("upload"),U=e.cancelLabel||e.cancelOptions.label||(0,r.qJ)("cancel"),z=D||e.fileLimit&&e.fileLimit<=a.length+R,L=D||!B,M=D||!B,P=function(e){return/^image\//.test(e.type)},K=function(t,n){H();var l=N(a),r=a[n];l.splice(n,1),i(l),e.onRemove&&e.onRemove({originalEvent:t,file:r})},H=function(){S.current&&(S.current.value="")},J=function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},_=function(t){if("drop"!==t.type&&X()&&j.current)j.current=!1;else{var n=[];e.multiple&&(n=a?N(a):[]);for(var l=t.dataTransfer?t.dataTransfer.files:t.target.files,r=0;r<l.length;r++){var o=l[r];!q(o)&&Z(o)&&(P(o)&&(o.objectURL=window.URL.createObjectURL(o)),n.push(o))}i(n),u.gb.isNotEmpty(n)&&e.auto&&V(n),e.onSelect&&e.onSelect({originalEvent:t,files:l}),"drop"!==t.type&&X()?S.current&&(j.current=!0,S.current.value=""):H(),"basic"===e.mode&&n.length>0&&(S.current.style.display="none")}},q=function(e){return a.some((function(t){return t.name+t.type+t.size===e.name+e.type+e.size}))},X=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Z=function(t){if(e.maxFileSize&&t.size>e.maxFileSize){var n={severity:"error",summary:e.invalidFileSizeMessageSummary.replace("{0}",t.name),detail:e.invalidFileSizeMessageDetail.replace("{0}",J(e.maxFileSize)),sticky:!0};return"advanced"===e.mode&&C.current.show(n),e.onValidationFail&&e.onValidationFail(t),!1}return!0},V=function(t){if((t=t||a)&&t.nativeEvent&&(t=a),e.customUpload)e.fileLimit&&(t.length,A("uploadedFileCount")),e.uploadHandler&&e.uploadHandler({files:t,options:{clear:Y,props:e}});else{b(!0);var n=new XMLHttpRequest,l=new FormData;e.onBeforeUpload&&e.onBeforeUpload({xhr:n,formData:l});var r,o=k(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;l.append(e.name,i,i.name)}}catch(s){o.e(s)}finally{o.f()}n.upload.addEventListener("progress",(function(t){if(t.lengthComputable){var n=Math.round(100*t.loaded/t.total);f(n),e.onProgress&&e.onProgress({originalEvent:t,progress:n})}})),n.onreadystatechange=function(){4===n.readyState&&(f(0),b(!1),n.status>=200&&n.status<300?(e.fileLimit&&(t.length,A("uploadedFileCount")),e.onUpload&&e.onUpload({xhr:n,files:t})):e.onError&&e.onError({xhr:n,files:t}),Y())},n.open("POST",e.url,!0),e.onBeforeSend&&e.onBeforeSend({xhr:n,formData:l}),n.withCredentials=e.withCredentials,n.send(l)}},Y=function(){i([]),b(!1),e.onClear&&e.onClear(),H()},$=function(){S.current.click()},W=function(){y(!0)},G=function(){y(!1)},Q=function(e){13===e.which&&$()},ee=function(e){D||(e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault())},te=function(e){D||(e.dataTransfer.dropEffect="copy",u.p7.addClass(O.current,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault())},ne=function(e){D||(e.dataTransfer.dropEffect="copy",u.p7.removeClass(O.current,"p-fileupload-highlight"))},ae=function(t){if(!e.disabled&&(u.p7.removeClass(O.current,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault(),!e.onBeforeDrop||!1!==e.onBeforeDrop(t))){var n=t.dataTransfer?t.dataTransfer.files:t.target.files;(e.multiple||u.gb.isEmpty(a)&&n&&1===n.length)&&_(t)}},le=function(){!D&&B?V():S.current.click()};l.useImperativeHandle(t,(function(){return{upload:V,clear:Y,formatSize:J}}));var re=function(t,n){var a=t.name+t.type+t.size,r=P(t)?l.createElement("div",null,l.createElement("img",{alt:t.name,role:"presentation",src:t.objectURL,width:e.previewWidth})):null,i=l.createElement("div",{className:"p-fileupload-filename"},t.name),s=l.createElement("div",null,J(t.size)),c=l.createElement("div",null,l.createElement(o.z,{type:"button",icon:"pi pi-times",onClick:function(e){return K(e,n)},disabled:D})),p=l.createElement(l.Fragment,null,r,i,s,c);if(e.itemTemplate){var f={onRemove:function(e){return K(e,n)},previewElement:r,fileNameElement:i,sizeElement:s,removeElement:c,formatSize:J(t.size),element:p,props:e};p=u.gb.getJSXElement(e.itemTemplate,t,f)}return l.createElement("div",{className:"p-fileupload-row",key:a},p)};return"advanced"===e.mode?function(){var t,n,r,i,s=u.gb.findDiffKeys(e,T.defaultProps),f=(0,u.AK)("p-fileupload p-fileupload-advanced p-component",e.className),m=(0,u.AK)("p-fileupload-buttonbar",e.headerClassName),y=(0,u.AK)("p-fileupload-content",e.contentClassName),v=function(){var t=e.chooseOptions,n=t.className,a=t.style,r=t.icon,o=t.iconOnly,i=(0,u.AK)("p-button p-fileupload-choose p-component",{"p-disabled":D,"p-focus":d,"p-button-icon-only":o},n),s="p-button-label p-clickable",c=o?l.createElement("span",{className:s,dangerouslySetInnerHTML:{__html:"&nbsp;"}}):l.createElement("span",{className:s},F),f=l.createElement("input",{ref:S,type:"file",onChange:_,multiple:e.multiple,accept:e.accept,disabled:z}),m=u.Cz.getJSXIcon(r||"pi pi-fw pi-plus",{className:"p-button-icon p-button-icon-left p-clickable"},{props:e});return l.createElement("span",{className:i,style:a,onClick:$,onKeyDown:Q,onFocus:W,onBlur:G,tabIndex:0},f,m,c,l.createElement(p.H,null))}(),h=e.emptyTemplate&&!B?u.gb.getJSXElement(e.emptyTemplate,e):null;if(!e.auto){var b=e.uploadOptions,N=e.cancelOptions,x=b.iconOnly?"":I,A=N.iconOnly?"":U;t=l.createElement(o.z,{type:"button",label:x,icon:b.icon||"pi pi-upload",onClick:V,disabled:L,style:b.style,className:b.className}),n=l.createElement(o.z,{type:"button",label:A,icon:N.icon||"pi pi-times",onClick:Y,disabled:M,style:N.style,className:N.className})}B&&(r=function(){var e=a.map(re);return l.createElement("div",{className:"p-fileupload-files"},e)}(),i=e.progressBarTemplate?u.gb.getJSXElement(e.progressBarTemplate,e):l.createElement(E.k,{value:c,showValue:!1}));var k=l.createElement("div",{className:m,style:e.headerStyle},v,t,n);if(e.headerTemplate){var j={className:m,chooseButton:v,uploadButton:t,cancelButton:n,element:k,props:e};k=u.gb.getJSXElement(e.headerTemplate,j)}return l.createElement("div",w({id:e.id,className:f,style:e.style},s),k,l.createElement("div",{ref:O,className:y,style:e.contentStyle,onDragEnter:ee,onDragOver:te,onDragLeave:ne,onDrop:ae},i,l.createElement(g,{ref:C}),r,h))}():"basic"===e.mode?function(){var t=e.chooseOptions,n=u.gb.findDiffKeys(e,T.defaultProps),r=(0,u.AK)("p-fileupload p-fileupload-basic p-component",e.className),o=(0,u.AK)("p-button p-component p-fileupload-choose",{"p-fileupload-choose-selected":B,"p-disabled":D,"p-focus":d},t.className),i=t.icon||(0,u.AK)({"pi pi-plus":!t.icon&&(!B||e.auto),"pi pi-upload":!t.icon&&B&&!e.auto}),s="p-button-label p-clickable",c=t.iconOnly?l.createElement("span",{className:s,dangerouslySetInnerHTML:{__html:"&nbsp;"}}):l.createElement("span",{className:s},F),f=e.auto?c:l.createElement("span",{className:s},B?a[0].name:c),m=u.Cz.getJSXIcon(i,{className:"p-button-icon p-button-icon-left"},{props:e,hasFiles:B}),y=!B&&l.createElement("input",{ref:S,type:"file",accept:e.accept,multiple:e.multiple,disabled:D,onChange:_});return l.createElement("div",w({className:r,style:e.style},n),l.createElement(g,{ref:C}),l.createElement("span",{className:o,style:t.style,onMouseUp:le,onKeyDown:Q,onFocus:W,onBlur:G,tabIndex:0},m,f,y,l.createElement(p.H,null)))}():void 0})));T.displayName="FileUpload",T.defaultProps={__TYPE:"FileUpload",id:null,name:null,url:null,mode:"advanced",multiple:!1,accept:null,disabled:!1,auto:!1,maxFileSize:null,invalidFileSizeMessageSummary:"{0}: Invalid file size, ",invalidFileSizeMessageDetail:"maximum upload size is {0}.",style:null,className:null,widthCredentials:!1,previewWidth:50,chooseLabel:null,uploadLabel:null,cancelLabel:null,chooseOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},uploadOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},cancelOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},customUpload:!1,headerClassName:null,headerStyle:null,contentClassName:null,contentStyle:null,headerTemplate:null,itemTemplate:null,emptyTemplate:null,progressBarTemplate:null,onBeforeUpload:null,onBeforeSend:null,onBeforeDrop:null,onUpload:null,onError:null,onClear:null,onSelect:null,onProgress:null,onValidationFail:null,uploadHandler:null,onRemove:null};var j=n(4045),R=n(8218),B=n(7580),D=n(215),F=n(8125),I=n(184);var U=function(){var e=(0,l.useRef)(null),t=(0,l.useRef)(null),n=(0,l.useState)("Click on choose button to upload JAD report"),r=(0,a.Z)(n,2),o=r[0],i=r[1],s=(0,l.useState)(!1),u=(0,a.Z)(s,2),c=u[0],p=u[1],f=new D.e;(0,l.useEffect)((function(){}),[]);var m=(0,I.jsx)("div",{children:(0,I.jsx)(R.g,{style:{width:"-webkit-fill-available",height:"240px"},readOnly:!0,value:o})});return(0,I.jsxs)("div",{children:[(0,I.jsx)(B.F,{ref:t}),(0,I.jsx)("div",{className:"flex flex-row flex-wrap align-items-center justify-content-center",children:(0,I.jsx)("div",{className:"flex align-items-center justify-content-center w-5",children:(0,I.jsxs)(j.Z,{title:"Upload Jade Cash Report",subTitle:"Only JAD Report file(s) are supported",footer:m,style:{width:"100%"},children:[(0,I.jsx)(T,{ref:e,name:"jadeCashExcels",disabled:c,multiple:!0,className:"align-items-center justify-content-center",mode:"advanced",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",customUpload:!0,uploadHandler:function(n){if(i(""),"undefined"!==typeof n.files){for(var a="".concat(F.l.URL,"/api/jade-cash/upload"),l=new FormData,r=0;r<n.files.length;r++){if(-1===n.files[r].name.indexOf(".xlsx"))return i("Unsupported file type"),e.current.clear(),void t.current.show({severity:"error",summary:"Data Integration",detail:"Unsupported file found"});l.append("jadeCashExcels",n.files[r])}i("Please wait..."),t.current.show({severity:"info",summary:"Data Integration",detail:"Process initiated"}),p(!0),f.post(a,l).then((function(n){var a=n.data.fileStatus+"\n"+n.data.csvFile+"\n"+n.data.emptyTable+"\n";a+=n.data.storeTable+"\n"+n.data.integrationFiles+"\n"+n.data.integrationFilesUploaded,i(a),e&&e.current&&(e.current.clear(),p(!1),t.current.show({severity:"success",summary:"Data Integration",detail:"Process completed"}))})).catch((function(n){i("Click on choose button to upload JAD report"),p(!1),e.current.clear(),t.current.show({severity:"error",summary:"Data Integration",detail:"Something went wrong"})}))}},onSelect:function(e){return i("Click on Upload button")}}),(0,I.jsx)(E.k,{mode:"indeterminate",className:c?"block":"hidden"})]})})})]})}},215:function(e,t,n){n.d(t,{e:function(){return i}});var a=n(5671),l=n(3144),r=n(4569),o=n.n(r),i=function(){function e(){(0,a.Z)(this,e),e.axiosClient=o().create({headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer Implemented Later..."},withCredentials:!0})}return(0,l.Z)(e,[{key:"getHttpClient",value:function(){return e.axiosClient}},{key:"get",value:function(e,t){return this.getHttpClient().get(e,t)}},{key:"post",value:function(e,t){return this.getHttpClient().post(e,t)}},{key:"stream",value:function(e){return new EventSource(e,{withCredentials:!0})}},{key:"downloadFile",value:function(e){return this.getHttpClient().get(e,{withCredentials:!0,responseType:"arraybuffer"})}}]),e}();i.axiosClient=void 0}}]);
//# sourceMappingURL=20.15190b14.chunk.js.map